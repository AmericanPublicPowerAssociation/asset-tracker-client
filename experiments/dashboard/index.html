<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css">
<title>Asset Tracker</title>
<style>
html, body {
  height: 100%;
}
body {
  padding-top: 3.5rem;
}
#map {
  height: 500px;
}
.container-fluid {
  padding-left: 0;
}
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light fixed-top">
<a class="navbar-brand" href="#">Asset Tracker</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle Navigation">
<span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navigation">

<form class="form-inline mr-2 my-2 my-lg-0">
<input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
<button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
</form>

<ul class="navbar-nav mr-auto">

<li class="nav-item active">
<a class="nav-link" href="#">Maps <span class="sr-only">(Current)</span></a>
</li>

<li class="nav-item">
<a class="nav-link" href="#">Tables</a>
</li>

<li class="nav-item">
<a class="nav-link" href="#">Reports</a>
</li>

<li class="nav-item">
<a class="nav-link" href="#">Alerts</a>
</li>

</ul>

<ul class="navbar-nav mr-2">
<li class="nav-item"><a class="nav-link" href="#">Alex</a></li>
</ul>

<button id="button-sign-out" class="btn btn-primary my-2 my-sm-0" type="submit">Sign Out</button>

</div>
</nav>

<main role="main" class="container-fluid h-100">
<div class="row h-100">
<div class="col-8 h-100">

<div class="row h-100">
<div id="map" class="col-10 h-100">
</div>
<div id="layer" class="col-2">
Station
Substation
Quality
  Capacitor
  Regulator
  Booster
Switch
  Fuse
  Breaker
  Recloser
  Interrupter
  Sectionalizer
  Relay
Transformer
Meter
  Residential
  Commercial
  Industrial
Line
  Overhead
  Underground
Pole
Busbar
Control
  PLC
  Microcontroller
Miscellaneous
</div>
</div>

</div>
<div id="detail" class="col-4 h-100">
<div id="circuit" class="h-50">
</div>
<div id="information">
<div>Asset Name</div>
<div>Asset ID</div>
</div>
</div>
</div>
</main>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.2.22/cytoscape.min.js"></script>
<script src="line.js.gz"></script>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoicm1ndWFyYWNoaSIsImEiOiJjamwzdDdseXcyNTk5M3Fuc3p2ZzJmdXdlIn0.cjtHea9XjbVzu7IQDIXsog';
var map = new mapboxgl.Map({
  container: 'map',
  // center: [-88.039894, 30.695366],
  // zoom: 7,
  // center: [-122.48383155304096, 37.82882682974591],
  // center: [-84.2097517295505, 44.61079360769207],
  center: [-79.60975239966413, 36.20116405881477],
  zoom: 9,
  style: 'mapbox://styles/mapbox/basic-v9',
  logoPosition: 'top-right'
});
map.on('load', function() {
  map.addLayer({
    'id': 'line',
    'type': 'line',
    'source': {
      'type': 'geojson',
      'data': line_geojson
    },
    'paint': {
      'line-width': ['*', ['get', 'NomV'], 0.1],
      /*
      'line-color': ['match', ['get', 'Phases'],
        'A', '#fbb03b',
        'B', '#223b53',
        'C', '#e55e5e',
        'ABC', '#3bb2d0']
      */
    }
  });
  map.addControl(new mapboxgl.NavigationControl());
});

var cy = cytoscape({
  container: $('#circuit'),
  elements: [
    {data: {id: 'a'}},
    {data: {id: 'b'}},
    {data: {id: 'ab', source: 'a', target: 'b'}}
  ],
  style: [
    {selector: 'node', style: {'background-color': '#666', 'label': 'data(id)'}},
    {selector: 'edge', style: {'width': 3, 'line-color': '#ccc'}}
  ],
  layout: {name: 'grid', rows: 1}
});
</script>
</body>
</html>
